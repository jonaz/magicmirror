<link rel="import" href="/bower_components/paper-tabs/paper-tabs.html">
<link rel="import" href="/bower_components/core-animated-pages/core-animated-pages.html">
<link rel="import" href="/bower_components/core-animated-pages/transitions/slide-down.html">
<link rel="import" href="/bower_components/core-animated-pages/transitions/slide-up.html">
<link rel="import" href="/bower_components/core-animated-pages/transitions/slide-from-right.html">
<link rel="import" href="/bower_components/font-roboto/roboto.html">
<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="weather-widget.html">
<link rel="import" href="x-websocket.html">

<polymer-element name="mirror-app" on-message="websocketMessage">
  <template>
  <link rel="stylesheet" href="mirror-app.css">

  <x-websocket json="true" url="ws://localhost:3000/websocket" ></x-websocket>


  <div style="width:1080px;height:1920px;position:relative;">
  <div>


  <core-animated-pages selected={{showmenu}} transitions="slide-down" >
		<section id="empty">
		</section>
		<section id="menu">
			<div slide-down style="position:relative;height:900px;">
				<div style="position:relative;left:25%;width:50%;" >
					<paper-tabs selected="{{page}}" class="transparent-teal" role="tablist" id="tabsMenu">
						<paper-tab role="tab" class="" active="">Väder</paper-tab>
						<paper-tab role="tab" class="">Kalender</paper-tab>
						<paper-tab role="tab" class="">Nyheter</paper-tab>
					</paper-tabs>
				</div>
					<core-animated-pages transitions="slide-from-right" selected="{{page}}" selectedindex="0" >
						<section id="weather">
							<div slide-from-right id="mainCenter" horizontal layout center style="color:#fff;height:500px;border:1px #fff solid;">Väder<i class="wi wi-day-lightning"></i></div>
						</section>
						<section id="calendar">
							<div slide-from-right id="mainCenter" horizontal layout center style="color:#fff;height:500px;border:1px #fff solid;">Kalender</div>
						</section>
						<section id="news">
							<div slide-from-right id="mainCenter" horizontal layout center style="color:#fff;height:500px;border:1px #fff solid;">Nyheter</div>
						</section>
					</core-animated-pages>
			</div>
		</section>

		</core-animated-pages>


		<div class="upper_left widget_box" style="border:1px #fff solid;"></div>
		<div class="upper_right widget_box" style="border:1px #fff solid;"><weather-widget></weather-widget></div>
		<div class="lower_left widget_box" style="border:1px #fff solid;"></div>
		<div class="lower_right widget_box" style="border:1px #fff solid;"></div>
		<div style="top:100px;position:relative;">
			<core-button on-tap="{{ toggleMenu }}" style="color:#fff;">hide/show menu</core-button>
		</div>

	</div>


    <!--This is <b>{{owner}}</b>'s age-slider.-->
    <!--<b>{{name}}</b> lets me borrow it.-->
    <!--He likes the color <span style="color: {{color}}">{{color}}</span>.-->
    <!--I am <b>{{age}}</b> years old.-->
    <!--<p><label for="ageInput">Age:</label>-->
    <!--<input id="ageInput" type="range"-->
           <!--value="{{age}}">-->
    <!--<label for="nameInput">Name:</label>-->
    <!--<input id="nameInput" value="{{name}}"-->
           <!--placeholder="Enter name..."></p>-->
  </template>
  <script>

  (function() {

	Polymer('mirror-app', {
		selected: 0,
		showmenu: 0,
		page:0,
		toggleMenu: function() {
			if(this.showmenu === 1){
					this.showmenu = 0;
					return;
				}
			this.showmenu = 1;
			console.log(this.showmenu);
		},
		websocketMessage: function(a,b){
			switch(b.data.typ){
				case 'down':
					this.showmenu=1;
					break;
				case 'up':
					this.showmenu=0;
					break;
				case 'left':
					this.page--;
					break;
				case 'right':
					this.page++
					break;
			}
		},
		websocketMessageChanged: function(){

		},
		ready: function(){

		}
	});

})();
</script>
</polymer-element>
